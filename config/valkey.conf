# Valkey configuration for BoilStream Free Tier
# Optimized for single-node deployment with resource constraints

# Network
bind 0.0.0.0
port 6379
protected-mode no

# Persistence
dir /data
appendonly yes
appendfsync everysec
auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb

# Memory management for free tier (512MB limit)
maxmemory 512mb
maxmemory-policy allkeys-lru

# Logging
loglevel notice
logfile ""

# Connection limits
timeout 300
tcp-keepalive 300
maxclients 1000

# Performance settings for free tier
io-threads 2
tcp-backlog 511

# Disable some features for free tier
save ""  # Disable RDB snapshots to save disk space